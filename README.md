# MAPS

Mason-Alberta Phonetic Segmenter

This tool is still in a pre-release stage and has not been tested against a variety of data types. We welcome you to use it for your own work and report any issues you encounter. It is currently a command-line-only utility.

Currently, only a model for American English is provided. Future releases will include a training function to allow the model to be trained on new data. If you are working with data that is reasonably close to the phone set in American English, the aligner might still be useful for your needs.

# Running the aligner

The aligner is run using the `maps.py` file. A list of arguments to the aligner can be generated by running `python maps.py -h`, the output of which is reproduced below.

```
usage: maps.py [-h] --audio AUDIO --text TEXT --dict DICT [--interp {true,false}]
               [--sil {true,false}] [--quiet] [--check_variants] [--overwrite]

Mason-Alberta Phonetic Segmenter (MAPS). Phonetically segments a file or files in a directory
given transcription(s) and a grapheme-to-phoneme dictionary. Passed in directories will be
processed at the top level only and will not be processed recursively. Arguments that take values
may use "=" or not. For example, both "--audio=s.wav" and "--audio s.wav" will work correctly.

options:
  -h, --help            show this help message and exit
  --audio AUDIO         A WAV file or a directory containing WAV files
  --text TEXT           A txt file with an orthographic transcription or a directory with such
                        files
  --dict DICT           A grapheme-to-phoneme dictionary like the CMU Pronouncing Dictionary
  --interp {true,false}
                        Whether to use interpolation or not. Default is set to true.
  --sil {true,false}    Whether to add silences to beginning and end of transcription. Default is
                        set to true
  --quiet               Suppresses info messages when flag is present; does not accept a value
  --check_variants      Checks pronunciation variants in the dictionary.
  --overwrite           If flag is set, existing TextGrid files with the same stem as the WAV
                        files will be overwritten
```

# Required packages

The required package are listed in the `requirements.txt` file. They can be installed using `pip install -r requirements.txt`.